<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健身饮食管理工具</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- 头部 -->
        <header class="app-header">
            <h1>💪 健身饮食管理</h1>
            <p>科学管理，健康生活</p>
        </header>

        <!-- 紧凑的导航标签 -->
        <nav class="app-tabs">
            <button class="tab-btn active" data-tab="dashboard">
                <span class="tab-icon">📊</span>
                <span class="tab-text">概览</span>
            </button>
            <button class="tab-btn" data-tab="bmr">
                <span class="tab-icon">🧮</span>
                <span class="tab-text">BMR</span>
            </button>
            <button class="tab-btn" data-tab="food">
                <span class="tab-icon">🍽️</span>
                <span class="tab-text">食物</span>
            </button>
            <button class="tab-btn" data-tab="weight">
                <span class="tab-icon">⚖️</span>
                <span class="tab-text">体重</span>
            </button>
            <button class="tab-btn" data-tab="nutrients">
                <span class="tab-icon">🥗</span>
                <span class="tab-text">营养</span>
            </button>
        </nav>

        <!-- 概览页面 -->
        <section id="dashboard" class="tab-content active">
            <div class="dashboard-grid">
                <!-- 今日概览卡片 -->
                <div class="overview-card">
                    <h3>今日概览</h3>
                    <div class="overview-stats">
                        <div class="stat-item">
                            <span class="stat-label">目标热量</span>
                            <span class="stat-value" id="todayTarget">0 卡</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">已摄入</span>
                            <span class="stat-value" id="todayConsumed">0 卡</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">剩余</span>
                            <span class="stat-value" id="todayRemaining">0 卡</span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="todayProgress"></div>
                    </div>
                </div>

                <!-- 快速操作卡片 -->
                <div class="quick-actions">
                    <button class="quick-btn" onclick="switchTab('food')">
                        <span class="btn-icon">➕</span>
                        <span>添加食物</span>
                    </button>
                    <button class="quick-btn" onclick="switchTab('weight')">
                        <span class="btn-icon">📝</span>
                        <span>记录体重</span>
                    </button>
                    <button class="quick-btn" onclick="switchTab('bmr')">
                        <span class="btn-icon">⚙️</span>
                        <span>设置目标</span>
                    </button>
                </div>

                <!-- 最近记录 -->
                <div class="recent-records">
                    <h3>最近记录</h3>
                    <div id="recentFoodList" class="record-list"></div>
                </div>
            </div>
        </section>

        <!-- 基础代谢率计算器 -->
        <section id="bmr" class="tab-content">
            <div class="compact-form">
                <h2>基础代谢率计算</h2>
                <form id="bmrForm" class="form-grid">
                    <div class="form-group">
                        <label for="age">年龄</label>
                        <input type="number" id="age" required min="15" max="100" placeholder="25">
                    </div>
                    <div class="form-group">
                        <label for="gender">性别</label>
                        <select id="gender" required>
                            <option value="male">男性</option>
                            <option value="female">女性</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="height">身高 (cm)</label>
                        <input type="number" id="height" required min="100" max="250" placeholder="170">
                    </div>
                    <div class="form-group">
                        <label for="weight">体重 (kg)</label>
                        <input type="number" id="weight" required min="30" max="300" step="0.1" placeholder="65">
                    </div>
                    <div class="form-group">
                        <label for="activity">活动水平</label>
                        <select id="activity" required>
                            <option value="1.2">久坐不动</option>
                            <option value="1.375">轻度活动</option>
                            <option value="1.55">中度活动</option>
                            <option value="1.725">重度活动</option>
                            <option value="1.9">极重度活动</option>
                        </select>
                    </div>
                    <button type="submit" class="btn-primary">计算BMR</button>
                </form>
                
                <div id="bmrResult" class="result-card hidden">
                    <h3>计算结果</h3>
                    <div class="result-grid">
                        <div class="result-item">
                            <span class="result-label">基础代谢率</span>
                            <span class="result-value" id="bmrValue">0</span>
                            <span class="result-unit">卡/天</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">每日总消耗</span>
                            <span class="result-value" id="tdeeValue">0</span>
                            <span class="result-unit">卡/天</span>
                        </div>
                    </div>
                    <div class="goal-selector">
                        <button class="goal-btn" data-goal="lose">减脂</button>
                        <button class="goal-btn" data-goal="maintain">维持</button>
                        <button class="goal-btn" data-goal="gain">增肌</button>
                    </div>
                    <div id="goalCalories" class="goal-result hidden">
                        <span class="goal-label">目标热量:</span>
                        <span class="goal-value" id="targetCalories">0</span>
                        <span class="goal-unit">卡/天</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- 食物记录 -->
        <section id="food" class="tab-content">
            <div class="food-section">
                <!-- 快速添加食物 -->
                <div class="quick-add-food">
                    <h3>快速添加食物</h3>
                    <form id="foodForm" class="compact-form">
                        <div class="form-row">
                            <input type="text" id="foodName" placeholder="食物名称" required>
                            <input type="number" id="foodCalories" placeholder="热量" required min="0">
                        </div>
                        <div class="form-row">
                            <select id="foodMeal" required>
                                <option value="breakfast">早餐</option>
                                <option value="lunch">午餐</option>
                                <option value="dinner">晚餐</option>
                                <option value="snack">加餐</option>
                            </select>
                            <input type="date" id="foodDate" required>
                        </div>
                        <button type="submit" class="btn-primary">添加</button>
                    </form>
                </div>

                <!-- 今日统计 -->
                <div class="today-stats">
                    <div class="stat-card">
                        <span class="stat-icon">🔥</span>
                        <div class="stat-info">
                            <span class="stat-value" id="todayCalories">0</span>
                            <span class="stat-unit">卡路里</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">📈</span>
                        <div class="stat-info">
                            <span class="stat-value" id="weekAvgCalories">0</span>
                            <span class="stat-unit">本周平均</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">🎯</span>
                        <div class="stat-info">
                            <span class="stat-value" id="goalProgress">0%</span>
                            <span class="stat-unit">目标达成</span>
                        </div>
                    </div>
                </div>

                <!-- 今日食物列表 -->
                <div class="food-list-section">
                    <h3>今日食物</h3>
                    <div id="todayFoodList" class="food-list"></div>
                </div>

                <!-- 食物库快捷使用 -->
                <div class="food-bank-quick">
                    <h3>常用食物</h3>
                    <div id="quickFoodBank" class="quick-food-grid"></div>
                </div>
            </div>
        </section>

        <!-- 体重追踪 -->
        <section id="weight" class="tab-content">
            <div class="weight-section">
                <!-- 体重记录表单 -->
                <div class="weight-form">
                    <h3>记录体重</h3>
                    <form id="weightForm" class="compact-form">
                        <div class="form-row">
                            <input type="number" id="weightValue" placeholder="体重 (kg)" required min="20" max="300" step="0.1">
                            <input type="date" id="weightDate" required>
                        </div>
                        <button type="submit" class="btn-primary">记录</button>
                    </form>
                </div>

                <!-- 体重统计 -->
                <div class="weight-stats">
                    <div class="stat-card">
                        <span class="stat-icon">⚖️</span>
                        <div class="stat-info">
                            <span class="stat-value" id="currentWeight">0</span>
                            <span class="stat-unit">kg</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">📊</span>
                        <div class="stat-info">
                            <span class="stat-value" id="weightChange">0</span>
                            <span class="stat-unit">变化</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">🎯</span>
                        <div class="stat-info">
                            <span class="stat-value" id="targetWeight">0</span>
                            <span class="stat-unit">目标</span>
                        </div>
                    </div>
                </div>

                <!-- 体重历史 -->
                <div class="weight-history">
                    <h3>体重历史</h3>
                    <div id="weightHistory" class="weight-list"></div>
                </div>
            </div>
        </section>

        <!-- 营养素计算器 -->
        <section id="nutrients" class="tab-content">
            <div class="nutrients-section">
                <div class="macro-calculator">
                    <h3>营养素需求计算</h3>
                    <div class="input-group">
                        <label for="targetCaloriesInput">目标热量</label>
                        <input type="number" id="targetCaloriesInput" placeholder="从BMR获取">
                    </div>
                    
                    <div class="macro-ratios">
                        <h4>宏量营养素比例</h4>
                        <div class="ratio-inputs">
                            <div class="ratio-input">
                                <label>蛋白质</label>
                                <input type="number" id="proteinRatio" value="25" min="10" max="50">
                                <span class="ratio-unit">%</span>
                            </div>
                            <div class="ratio-input">
                                <label>碳水</label>
                                <input type="number" id="carbRatio" value="45" min="20" max="70">
                                <span class="ratio-unit">%</span>
                            </div>
                            <div class="ratio-input">
                                <label>脂肪</label>
                                <input type="number" id="fatRatio" value="30" min="15" max="50">
                                <span class="ratio-unit">%</span>
                            </div>
                        </div>
                        <button id="calculateMacros" class="btn-primary">计算需求</button>
                    </div>

                    <div id="macroResults" class="macro-results hidden">
                        <h4>每日营养素需求</h4>
                        <div class="macro-cards">
                            <div class="macro-card protein">
                                <h5>蛋白质</h5>
                                <div class="macro-value">
                                    <span id="proteinGrams">0</span>
                                    <span class="macro-unit">g</span>
                                </div>
                                <span class="macro-calories" id="proteinCalories">0 卡</span>
                            </div>
                            <div class="macro-card carbs">
                                <h5>碳水化合物</h5>
                                <div class="macro-value">
                                    <span id="carbGrams">0</span>
                                    <span class="macro-unit">g</span>
                                </div>
                                <span class="macro-calories" id="carbCalories">0 卡</span>
                            </div>
                            <div class="macro-card fat">
                                <h5>脂肪</h5>
                                <div class="macro-value">
                                    <span id="fatGrams">0</span>
                                    <span class="macro-unit">g</span>
                                </div>
                                <span class="macro-calories" id="fatCalories">0 卡</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>

